!function(s){var t,a='<a href="/{{name}}/" class="package list-group-item" target="_blank"  onclick="_hmt.push([\'_trackEvent\', \'packages\', \'click\', \'{{name}}\'])"><div class="row"><div class="col-md-3"><h4 class="package-name">{{name}}</h4></div><div class="col-md-9 hidden-xs"><p class="package-description">{{description}}</p></div></div></a>',i=[];0<s(".search").length&&s.get("/assets/js/libraries.min.json?"+build).done(function(t){i=t}),s(".search").val("").focus(),s(".search").on("input propertychange",_.throttle(function(t){var e=s(t.currentTarget).val();console.log(e),0<e.length?(s("#common-packages").hide(),t=_.filter(i,function(t){return new RegExp(e,"i").test(t[0])}),t=(t=e.length<2?_.slice(t,0,100):t).reduce(function(t,e){return t.push(a.replace(/{{name}}/g,_.escape(e[0])).replace(/{{description}}/g,_.escape(e[1])).replace(/{{stars}}/g,_.escape(e[2]))),t},[]).join(""),s("#search-results").html(t).show()):(s("#common-packages").show(),s("#search-results").hide())},60)),s(document).on("input",".clearable",function(){this.value?s(this).next("i").removeClass("fa-search").addClass("fa-close x"):s(this).next("i").removeClass("fa-close").addClass("fa-search")}).on("mousemove",".x",function(t){s(this).addClass("onX")}).on("click",".onX",function(){s(this).removeClass("x onX").prev("input").val("").change(),s(this).removeClass("fa-close").addClass("fa-search"),s("#common-packages").show(),s("#search-results").hide()}),s(window).scroll(function(){100<s(this).scrollTop()?s("#back-to-top").fadeIn():s("#back-to-top").fadeOut()}),s("#back-to-top").on("click",function(t){return t.preventDefault(),s("html, body").animate({scrollTop:0},100),!1});try{"/"!==window.location.pathname&&(t=s(".site-header h1").first().text(),s(".site-header").geopattern(t))}catch(t){console.log(t)}s(".btn-group .btn").click(function(){var t=s("input",this).attr("id");console.log("Protocal ",t," was selected"),"relative"===t?s(".library-url").each(function(){var t=s(this).text();s(this).text(t.replace(/^https?:/i,"")),s(this).parent().removeClass("js-https")}):"http"===t?s(".library-url").each(function(){var t=s(this).text();s(this).text("http:"+t.replace(/^https?:/i,"")),s(this).parent().removeClass("js-https")}):"https"===t&&s(".library-url").each(function(){var t=s(this).text();s(this).text("https:"+t.replace(/^https?:/i,"")),s(this).parent().addClass("js-https")}),localforage.setItem("protocal",t,function(t,e){return t?console.log(t):void console.log("saved protocal: ",e)})})}(jQuery),$(function(){$(".library-url").each(function(){var t=$(this).text();/\.css$/.test(t)?$(this).before('<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-code" title="复制到剪贴板"><i class="fa fa-code"></i> 复制 &lt;link&gt; 标签</span><span class="btn-clipboard btn-clipboard-link" title="复制到剪贴板"><i class="fa fa-link"></i> 复制链接</span></div>'):/\.js$/.test(t)?$(this).before('<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-code" title="复制到剪贴板"><i class="fa fa-code"></i> 复制 &lt;script&gt; 标签</span><span class="btn-clipboard btn-clipboard-link" title="复制到剪贴板"><i class="fa fa-link"></i> 复制链接</span></div>'):$(this).before('<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-link" title="复制到剪贴板"><i class="fa fa-link"></i> 复制链接</span></div>')}),$(".btn-clipboard").tooltip({container:"body"});var t=new Clipboard(".btn-clipboard",{text:function(t){var e=$(t),t=$(t.parentNode.nextElementSibling),t=url=t.text();return e.hasClass("btn-clipboard-code")&&(/\.css$/.test(url)?t='<link href="'+url+'" rel="stylesheet">':/\.js$/.test(url)&&(t='<script src="'+url+'"><\/script>')),t}});t.on("success",function(t){$(t.trigger).attr("title","已复制！").tooltip("fixTitle").tooltip("show").attr("title","复制到剪贴板").tooltip("fixTitle"),t.clearSelection()}),t.on("error",function(t){var e="Press "+(/Mac/i.test(navigator.userAgent)?"⌘":"Ctrl-")+"C to copy";$(t.trigger).attr("title",e).tooltip("fixTitle").tooltip("show").attr("title","复制到剪贴板").tooltip("fixTitle")})});